#add sudoer
sudo usermod -aG sudo tringuyen
sudo nano /etc/sudoers
tringuyen  ALL=(ALL) NOPASSWD:ALL
tringuyen ALL=(ALL:ALL) NOPASSWD:ALL

#check user group
groups <username>


#list partition
sudo lsblk -o NAME,FSTYPE,SIZE,MOUNTPOINT

#Disable swap
swapoff -a                 # Disable all devices marked as swap in /etc/fstab
sed -e '/swap/ s/^#*/#/' -i /etc/fstab   # Comment the correct mounting point
systemctl mask swap.target               # Completely disabled

#echo and tee command
echo "<?php phpinfo(); ?>" | sudo tee /var/www/test.php > /dev/null && sudo chgrp www-data /var/www/test.php

#PREVENT CHANGES FOR A PACKAGE
       hold
           hold is used to mark a package as held back, which will prevent the package from being
           automatically installed, upgraded or removed
apt-mark hold kubelet kubeadm kubectl


## Add some settings to sysctl
sudo tee /etc/sysctl.d/kubernetes.conf<<EOF
net.bridge.bridge-nf-call-ip6tables = 1
net.bridge.bridge-nf-call-iptables = 1
net.ipv4.ip_forward = 1
EOF

#Get current user
sudo echo $USER


#Special, User/Owner, Group, and Others in that order, when working with the four-number chmods, with that first number being special bits that can be set.

chmod 4555 equates to the following:

Set UID bit - Run the file as the owner regardless of which user is running it
User/Owner: Read, Execute
Group: Read, Execute
Others: Read, Execute


# Create auto-swap script
mkdir /opt/scripts
cat <<'EOT' >> /opt/scripts/swap.sh
#!/bin/bash
exec 3>&1 4>&2
trap 'exec 2>&4 1>&3' 0 1 2 3
exec 1>/opt/scripts/swap.log 2>&1
# Create SWAP partition
sudo mkswap $(lsblk | grep  "279.4G" | cut -d " " -f1 | perl -ne 'print "/dev/$_"')
sudo swapon $(lsblk | grep  "279.4G" | cut -d " " -f1 | perl -ne 'print "/dev/$_"')
swapon -s
EOT

#add user home directory
sudo useradd -D --base-dir /home/tringuyen

#add user to ssh
nano /etc/ssh/sshd_config
...
PasswordAuthen.....
AllowUsers tringuyen


#ec2
Add a new user to the EC2 Linux instance
1.    Connect to your Linux instance using SSH.
2.    Use the adduser command to add a new user account to an EC2 instance (replace new_user with the new account name). The following example creates an associated group, home directory, and an entry in the /etc/passwd file of the instance.
sudo adduser new_user

The home directory might not be created by default in some configurations. Verify that the home directory was created before continuing.
Note: If you add the new_user to an Ubuntu instance, then include the --disabled-password option to avoid adding a password to the new account:
sudo adduser new_user --disabled-password

3.    Change the security context to the new_user account so that folders and files you create have the correct permissions:
sudo su - new_user
Note: When you run the sudo su - new_user command, the name at the top of the command shell prompt changes to reflect the new user account context of your shell session.

4.    Create a .ssh directory in the new_user home directory:
mkdir .ssh

5.    Use the chmod command to change the .ssh directory's permissions to 700. Changing the permissions restricts access so that only the new_user can read, write, or open the .ssh directory.
chmod 700 .ssh

6.    Use the touch command to create the authorized_keys file in the .ssh directory:
touch .ssh/authorized_keys

7.    Use the chmod command to change the .ssh/authorized_keys file permissions to 600. Changing the file permissions restricts read or write access to the new_user.
chmod 600 .ssh/authorized_keys


#Remove a user
If a user is no longer needed, you can remove that user so that it can no longer be used.
Use the userdel command to remove the user from the system. When you specify the -r parameter, the user's home directory and mail spool are deleted. To keep the user's home directory and mail spool, omit the -r parameter.
sudo userdel -r olduser


#Note
echo hello >/dev/null 2>&1 cÃ³ Ã½ nghÄ©a lÃ 
>/dev/null: redirect táº¥t cáº£ cÃ¡c standard output sang /dev/null . TÆ°Æ¡ng Ä‘Æ°Æ¡ng cÃ¡ch viáº¿t 1>/dev/null
2>&1: redirect táº¥t cáº£ cÃ¡c standard error sang standard output. NhÆ°ng thá»i Ä‘iá»ƒm nÃ y standard output Ä‘ang trá» tá»›i /dev/null nÃªn standard error sáº½ redirect tá»›i /dev/null

**************************************************************************** Permissions
1. CÆ¡ sá»Ÿ lÃ½ thuyáº¿t: SUID - Set owner User ID up on execution
1.1 - CÃ¡c quyá»n vá»›i file, thÆ° má»¥c trong Linux
CÃ³ bao giá» báº¡n install Project má»›i vá»›i Laravel, truy cáº­p ngay vÃ  gáº·p thÃ´ng bÃ¡o nhÆ° tháº¿ nÃ y (Permision denied):
VÃ  báº±ng má»™t cÃ¡ch nÃ o Ä‘Ã³, sau khi gÃµ lá»‡nh: chmod -R 777 storage/ thÃ¬ trang Welcome cá»§a Laravel láº¡i hiá»‡n ra má»™t cÃ¡ch ngon lÃ nh? Con sá»‘ 777 kia nghÄ©a lÃ  gÃ¬? 
Con sá»‘ 7 kia chÃ­nh lÃ  sá»‘ bit tá»‘i Ä‘a Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ Ä‘áº·t quyá»n cá»§a user Ä‘á»‘i vá»›i file, thÆ° má»¥c. Bao gá»“m: Read (4), Write (2) vÃ  Execute (1). Khi Ä‘áº·t 777, nÃ³ sáº½ lÃ  rwxrwxrwx. 
Hay 755 thÃ¬ sáº½ lÃ : rwxr-xr-x.
Vá»›i lá»‡nh chmod -R 777 storage/ á»Ÿ trÃªn, má»i thÆ° má»¥c, file...trong /storage/ Ä‘á»u cÃ³ thá»ƒ read, write, execute bá»Ÿi báº¥t cá»© ai. 
Vá» cÆ¡ báº£n, báº¡n Ä‘Ã£ vÃ´ hiá»‡u hÃ³a táº¥t cáº£ cÃ¡c hÃ¬nh thá»©c báº£o máº­t vá»›i thÆ° má»¥c nÃ y ğŸ˜— . Khi full quyá»n, cÃ³ thá»ƒ tÃ³m táº¯t nhÆ° sau:
Dáº¥u - hoáº·c d: Dáº¥u - chá»‰ ra Ä‘Ã³ lÃ  1 file, chá»¯ d chá»‰ ra Ä‘Ã³ lÃ  1 thÆ° má»¥c
User: Quyá»n cá»§a user chá»§ sá»Ÿ há»¯u cá»§a file / thÆ° má»¥c nÃ y.
Group: Quyá»n cá»§a nhá»¯ng users cÃ¹ng group vá»›i chá»§ sá»Ÿ há»¯u file / thÆ° má»¥c nÃ y.
Other: Quyá»n cá»§a táº¥t cáº£ cÃ¡c user khÃ¡c trÃªn mÃ¡y.

Äá»ƒ biáº¿t Ä‘Æ°á»£c file vÃ  directories Ä‘ang Ä‘Æ°á»£c phÃ¢n quyá»n nhÆ° tháº¿ nÃ o, cÃ¡c báº¡n gÃµ ls -la trÃªn terminal.
ÄÃ¢y lÃ  sá»± káº¿t há»£p cá»§a ls -l (use a long listing format) vÃ  ls -a (do not ignore entries starting with .). 
Äiá»u nÃ y lÃ  quan trá»ng vÃ¬ trong ráº¥t nhiá»u bÃ i lab, cÃ¡c file áº©n thÆ°á»ng chá»©a nhá»¯ng thÃ´ng tin quan trá»ng.

1.2 - SUID, SGID vÃ  sticky bits
NhÆ° váº­y cÃ¡c báº¡n cÃ³ thá»ƒ tháº¥y, chÃºng ta cÃ³ 3 quyá»n vá»›i 3 nhÃ³m ngÆ°á»i dÃ¹ng khÃ¡c nhau. 
Tuy nhiÃªn cÃ²n cÃ³ 3 special permission vá»›i file, thÆ° má»¥c trong Linux, Ä‘Ã³ lÃ  SUID, SGID vÃ  sticky bits. 
ÄÆ°Æ¡ng nhiÃªn trong pháº¡m vi bÃ i viáº¿t, chÃºng ta sáº½ tÃ¬m hiá»ƒu chá»§ yáº¿u vá» viá»‡c leo thang Ä‘áº·c quyá»n vá»›i SUID. Tuy nhiÃªn mÃ¬nh sáº½ giá»›i thiá»‡u cÆ¡ báº£n vá» cáº£ 2 permission kia.

1.2.1 - SUID
SUID ( hay Set user ID ) , thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng trÃªn cÃ¡c file thá»±c thi ( executable files ). Quyá»n nÃ y cho phÃ©p file Ä‘Æ°á»£c thá»±c thi vá»›i cÃ¡c Ä‘áº·c quyá»n (privileges) cá»§a chá»§ sá»Ÿ há»¯u file Ä‘Ã³.
VÃ­ dá»¥: náº¿u má»™t file Ä‘Æ°á»£c sá»Ÿ há»¯u bá»Ÿi user root vÃ  Ä‘Æ°á»£c set SUID bit, thÃ¬ báº¥t ká»ƒ ai thá»±c thi file, nÃ³ sáº½ luÃ´n cháº¡y vá»›i cÃ¡c Ä‘áº·c quyá»n cá»§a user root. VÃ  khi xem permissions cá»§a file, á»Ÿ pháº§n User, nhÃ£n x sáº½ Ä‘Æ°á»£c chuyá»ƒn sang nhÃ£n s.


Äá»ƒ gÃ¡n SUID cho 1 file, cÃ³ 2 cÃ¡ch:
chmod u+s [tÃªn file]
hoáº·c:
chmod 4555 [ tÃªn file] ( thÃªm 4 vÃ o trÆ°á»›c permissons )
LÆ°u Ã½: Náº¿u file chÆ°a cÃ³ quyá»n thá»±c thi (executing file as program), SUID sáº½ lÃ  chá»¯ S. Äá»ƒ nhÃ£n S trá»Ÿ thÃ nh s báº¡n pháº£i cáº¥p quyá»n thá»±c thi cho file, cÅ©ng cÃ³ 2 cÃ¡ch:
Chuá»™t pháº£i vÃ o file chá»n Properties, pháº§n Permission tick vÃ o Allow executing file as program.

CÃ¡ch 2 Ä‘Æ¡n giáº£n hÆ¡n, chá»‰ gáº§n gÃµ: chmod u+x [tÃªn file]
DÆ°á»›i Ä‘Ã¢y lÃ  cÃ¡ch gÃ¡n 1 SUID cho má»™t file cá»¥ thá»ƒ tÃªn .burp ( dÃ¹ng grep Ä‘Æ¡n giáº£n lÃ  mÃ¬nh lá»c káº¿t quáº£ cho Ä‘á»¡ rá»‘i máº¯t ). VÃ  tá»« S Ä‘Ã£ chuyá»ƒn thÃ nh s. GÃ¡n SUID hoÃ n táº¥t.

1.2.2 - SGID
SGID ( hay Set group ID ) , cÅ©ng tÆ°Æ¡ng tá»± nhÆ° SUID. Quyá»n nÃ y cho phÃ©p file Ä‘Æ°á»£c thá»±c thi vá»›i cÃ¡c Ä‘áº·c quyá»n (privileges) cá»§a group sá»Ÿ há»¯u file Ä‘Ã³. 
VÃ­ dá»¥: náº¿u má»™t file thuá»™c sá»Ÿ há»¯u cá»§a Staff group, báº¥t ká»ƒ ai thá»±c thi file Ä‘Ã³, nÃ³ sáº½ luÃ´n cháº¡y vá»›i Ä‘áº·c quyá»n cá»§a Staff group.
VÃ  khi xem permissions cá»§a file, á»Ÿ pháº§n Group, nhÃ£n x sáº½ Ä‘Æ°á»£c chuyá»ƒn sang nhÃ£n s.

Äá»ƒ gÃ¡n SGID cho 1 file, cÃ³ 2 cÃ¡ch:
chmod g+s [tÃªn file]
hoáº·c:
chmod 2555 [ tÃªn file] ( thÃªm 2 vÃ o trÆ°á»›c permissons )

NgoÃ i ra SGID cÃ³ thá»ƒ Ä‘Æ°á»£c gÃ¡n cho thÆ° má»¥c. Vá»›i cÃ¡ch gÃ¡n tÆ°Æ¡ng tá»± nhÆ° gÃ¡n cho má»™t file. 
Khi SGID Ä‘Æ°á»£c gÃ¡n cho 1 thÆ° má»¥c, táº¥t cáº£ cÃ¡c file Ä‘Æ°á»£c táº¡o ra trong thÆ° má»¥c Ä‘Ã³ sáº½ káº¿ thá»«a quyá»n sá»Ÿ há»¯u cá»§a Group Ä‘á»‘i vá»›i thÆ° má»¥c Ä‘Ã³.

1.2.2 - Sticky Bit
ÄÆ°á»£c dÃ¹ng cho cÃ¡c thÆ° má»¥c chia sáº» , má»¥c Ä‘Ã­ch lÃ  ngÄƒn cháº·n viá»‡c ngÆ°á»i dÃ¹ng nÃ y xÃ³a file cá»§a ngÆ°á»i dÃ¹ng kia. 
Chá»‰ duy nháº¥t owner vÃ  root má»›i cÃ³ quyá»n rename hay xÃ³a cÃ¡c file, thÆ° má»¥c khi nÃ³ Ä‘Æ°á»£c set Sticky Bit. ÄÃ³ lÃ  lÃ½ do nÃ³ cÃ²n Ä‘Æ°á»£c gá»i lÃ  restricted deletion bit.
Äiá»u nÃ y khÃ¡ há»¯u Ã­ch trÃªn cÃ¡c thÆ° má»¥c Ä‘Æ°á»£c set quyá»n 777 (má»i ngÆ°á»i Ä‘á»u Ä‘Æ°á»£c phÃ©p Ä‘á»c vÃ  ghi / xÃ³a).

KhÃ¡c má»™t chÃºt vá»›i 2 permission phÃ­a trÃªn, á»Ÿ Sticky Bit, nhÃ£n x sáº½ Ä‘Æ°á»£c chuyá»ƒn thÃ nh nhÃ£n t.
Äá»ƒ gÃ¡n Sticky Bit cÃ³ 3 cÃ¡ch:
chmod +t [tÃªn file, thÆ° má»¥c]
hoáº·c:
chmod o+t [tÃªn file, thÆ° má»¥c]
hoáº·c:
chmod 1555 [ tÃªn file,thÆ° má»¥c] ( thÃªm 1 vÃ o trÆ°á»›c permissons )

**************************************************************************** CÃC Lá»†NH Vá»€ SYSTEM
Command	Description
uname -a	Hiá»ƒn thá»‹ thÃ´ng tin vá» há»‡ thá»‘ng Linux
uname -r	Hiá»ƒn thá»‹ thÃ´ng tin vá» kernel
cat /etc/os-release	Hiá»ƒn thá»‹ thÃ´ng tin há»‡ Ä‘iá»u hÃ nh nhÆ° tÃªn vÃ  phiÃªn báº£n
uptime	Hiá»ƒn thá»‹ thá»i gian há»‡ thá»‘ng Ä‘Ã£ cháº¡y
hostname	Hiá»ƒn thá»‹ tÃªn mÃ¡y chá»§
hostname -I	Hiá»ƒn thá»‹ táº¥t cáº£ cÃ¡c Ä‘á»‹a chá»‰ IP trÃªn local
last reboot	Hiá»ƒn thá»‹ lá»‹ch sá»­ reboot
date	Hiá»ƒn thá»‹ ngÃ y giá» hiá»‡n táº¡i
cal	Hiá»ƒn thá»‹ lá»‹ch thÃ¡ng hiá»‡n táº¡i
whoami	Hiá»ƒn thá»‹ tÃªn Ä‘Äƒng nháº­p hiá»‡n táº¡i cá»§a báº¡n
history	Hiá»ƒn thá»‹ danh sÃ¡ch táº¥t cáº£ cÃ¡c lá»‡nh Ä‘Ã£ sá»­ dá»¥ng
clear	XÃ³a terminal
shutdown -h now	Táº¯t há»‡ thá»‘ng
reboot	Khá»Ÿi Ä‘á»™ng láº¡i há»‡ thá»‘ng

**************************************************************************** CÃC Lá»†NH Vá»€ HARDWARE
Command	Description
cat /proc/cpuinfo	Hiá»ƒn thá»‹ thÃ´ng tin CPU
cat /proc/meminfo	Hiá»ƒn thá»‹ thÃ´ng tin memory
free -h	Hiá»ƒn thá»‹ bá»™ nhá»› cÃ²n trá»‘ng vÃ  Ä‘Ã£ sá»­ dá»¥ng [ -h (human), -m (MB), -g (GB) ]
lspci -tv	Hiá»ƒn thá»‹ cÃ¡c thiáº¿t bá»‹ PCI
lsusb -tv	Hiá»ƒn thá»‹ cÃ¡c thiáº¿t bá»‹ USB
lsblk	Hiá»ƒn thá»‹ thÃ´ng tin vá» block devices
dmidecode	Hiá»ƒn thá»‹ DMI / SMBIOS (thÃ´ng tin pháº§n cá»©ng) tá»« BIOS
hdparm -i /dev/sda	Hiá»ƒn thá»‹ thÃ´ng tin vá» Ä‘Ä©a sda
hdparm -tT /dev/sda	Thá»±c hiá»‡n kiá»ƒm tra tá»‘c Ä‘á»™ Ä‘á»c trÃªn Ä‘Ä©a sda
badblocks -s /dev/sda	Kiá»ƒm tra cÃ¡c khá»‘i khÃ´ng Ä‘á»c Ä‘Æ°á»£c trÃªn Ä‘Ä©a sda

**************************************************************************** CÃC Lá»†NH Vá»€ MONITORING
Command	Description
mpstat 1	Hiá»ƒn thá»‹ thá»‘ng kÃª liÃªn quan Ä‘áº¿n bá»™ xá»­ lÃ½
vmstat 1	Hiá»ƒn thá»‹ thá»‘ng kÃª bá»™ nhá»› áº£o
iostat 1	Hiá»ƒn thá»‹ thá»‘ng kÃª I/O
tail -100 /var/log/messages	Hiá»ƒn thá»‹ 100 log gáº§n nháº¥t cá»§a há»‡ thá»‘ng
tcpdump -i eth0	Capture vÃ  hiá»ƒn thá»‹ táº¥t cáº£ cÃ¡c packets trÃªn interface eth0
tcpdump -i eth0 'port 80'	Monitor táº¥t cáº£ lÆ°u lÆ°á»£ng truy cáº­p trÃªn port 80 ( HTTP )
lsof	Liá»‡t kÃª táº¥t cáº£ cÃ¡c tá»‡p Ä‘ang má»Ÿ trÃªn há»‡ thá»‘ng
lsof -u user	Liá»‡t kÃª cÃ¡c tá»‡p Ä‘Æ°á»£c má»Ÿ bá»Ÿi ngÆ°á»i dÃ¹ng
watch df -h	Thá»±c thi vÃ  "watch" cÃ¢u lá»‡nh df -h

**************************************************************************** CÃC Lá»†NH Vá»€ USER
Command	Description
id	Hiá»ƒn thá»‹ id ngÆ°á»i dÃ¹ng vÃ  nhÃ³m hiá»‡n táº¡i cá»§a ngÆ°á»i dÃ¹ng
last	Hiá»ƒn thá»‹ ngÆ°á»i dÃ¹ng gáº§n nháº¥t Ä‘Ã£ Ä‘Äƒng nháº­p vÃ o há»‡ thá»‘ng
who	Hiá»ƒn thá»‹ ai Ä‘Ã£ Ä‘Äƒng nháº­p vÃ o há»‡ thá»‘ng
w	Hiá»ƒn thá»‹ ai Ä‘Ã£ Ä‘Äƒng nháº­p vÃ  há» Ä‘ang lÃ m gÃ¬
groupadd test	Táº¡o má»™t nhÃ³m cÃ³ tÃªn lÃ  "test"
groupdel test	XÃ³a má»™t nhÃ³m cÃ³ tÃªn lÃ  "test"
useradd -c "This is NhaX" -m nhax	Táº¡o tÃ i khoáº£n cÃ³ tÃªn nhax, vá»›i comment "This is NhaX" vÃ  táº¡o thÆ° má»¥c chÃ­nh cho ngÆ°á»i dÃ¹ng
userdel nhax	XÃ³a tÃ i khoáº£n nhax
usermod -aG sales nhax	ThÃªm tÃ i khoáº£n nhax vÃ o nhÃ³m sales
usermod [option] username	Thay Ä‘á»•i thÃ´ng tin tÃ i khoáº£n ngÆ°á»i dÃ¹ng bao gá»“m: nhÃ³m, thÆ° má»¥c chÃ­nh, shell, ngÃ y háº¿t háº¡n

**************************************************************************** CÃC Lá»†NH Vá»€ FILE, DIRECTORY
Command	Description
pwd	Hiá»ƒn thá»‹ folder lÃ m viá»‡c hiá»‡n táº¡i
cd	Thay Ä‘á»•i folder hiá»‡n táº¡i thÃ nh folder chÃ­nh
cd foldername	Thay Ä‘á»•i folder thÃ nh folder cÃ³ tÃªn "foldername"
cd ..	Thay Ä‘á»•i folder lÃªn má»™t cáº¥p
ls	Liá»‡t kÃª táº¥t cáº£ cÃ¡c file vÃ  folder trong folder hiá»‡n táº¡i
ls -al	Liá»‡t kÃª táº¥t cáº£ cÃ¡c file vÃ  folder bao gá»“m: tá»‡p áº©n vÃ  cÃ¡c thÃ´ng tin khÃ¡c nhÆ° quyá»n, kÃ­ch thÆ°á»›c vÃ  chá»§ sá»Ÿ há»¯u
mkdir directory	Táº¡o folder tÃªn "directory"
rm file	XÃ³a file
rm -r directory	XÃ³a folder vÃ  ná»™i dung cá»§a nÃ³ theo cÃ¡ch Ä‘á»‡ quy
rm -f file	Buá»™c xÃ³a file mÃ  khÃ´ng cáº§n xÃ¡c nháº­n
rm -rf directory	Buá»™c xÃ³a folder theo cÃ¡ch Ä‘á»‡ quy
cp file1 file2	Copy file1 sang file2
cp -r source_directory destination	Sao chÃ©p folder source_directory Ä‘áº¿n folder destination. Náº¿u source_directory tá»“n táº¡i, sao chÃ©p source_directory vÃ o destination, náº¿u khÃ´ng thÃ¬ táº¡o destination vá»›i ná»™i dung cá»§a source_directory.
mv file1 file2	Äá»•i tÃªn hoáº·c di chuyá»ƒn file1 thÃ nh file2
ln -s /path/to/file linkname	Táº¡o symbolic link Ä‘áº¿n linkname
touch file	Táº¡o má»™t file trá»‘ng (hoáº·c cáº­p nháº­t thá»i gian truy cáº­p vÃ  sá»­a Ä‘á»•i file)
cat file	Xem ná»™i dung cá»§a file
cat file1 file2 > file3	Káº¿t há»£p hai file cÃ³ tÃªn lÃ  file1 vÃ  file2 vÃ  lÆ°u trá»¯ Ä‘áº§u ra trong file3
less file	Duyá»‡t qua má»™t file
head file	Hiá»ƒn thá»‹ 10 dÃ²ng Ä‘áº§u tiÃªn cá»§a file
tail file	Hiá»ƒn thá»‹ 10 dÃ²ng cuá»‘i cÃ¹ng cá»§a file
tail -f file	Hiá»ƒn thá»‹ 10 dÃ²ng cuá»‘i cÃ¹ng cá»§a file vÃ  "watch" file khi tá»‡p thay Ä‘á»•i.

**************************************************************************** CÃC Lá»†NH Vá»€ PROCESS
Command	Description
ps	Hiá»ƒn thá»‹ cÃ¡c process hiá»‡n Ä‘ang cháº¡y
pstree	Hiá»ƒn thá»‹ cÃ¡c process trong sÆ¡ Ä‘á»“ dáº¡ng cÃ¢y
ps -ef	Hiá»ƒn thá»‹ táº¥t cáº£ cÃ¡c process hiá»‡n Ä‘ang cháº¡y trÃªn há»‡ thá»‘ng.
ps -ef | grep processname	Hiá»ƒn thá»‹ process cÃ³ tÃªn "processname"
top	Hiá»ƒn thá»‹ cÃ¡c top process
htop	TÆ°Æ¡ng tá»± top, nhÆ°ng trá»±c quan hÆ¡n
kill pid	Kill process cÃ³ process ID lÃ  pid
killall processname	Kill táº¥t cáº£ cÃ¡c process cÃ³ tÃªn "processname"
program &	Cháº¡y program á»Ÿ background
bg	Hiá»ƒn thá»‹ cÃ¡c jobs Ä‘Ã£ dá»«ng hoáº·c cháº¡y ngáº§m
fg	ÄÆ°a cÃ¡c background jobs gáº§n nháº¥t lÃªn foreground
fg n	ÄÆ°a jobs n lÃªn foreground
lsof	Liá»‡t kÃª táº¥t cáº£ cÃ¡c tá»‡p Ä‘Æ°á»£c má»Ÿ báº±ng cÃ¡c process Ä‘ang cháº¡y
pidof processname	Láº¥y PID cá»§a báº¥t ká»³ process nÃ o
CÃC Lá»†NH Vá»€ FILE PERMISSIONS
image.png (Execute = 1, Write = 2, Read = 4)

Command	Description
ls -l filename	Kiá»ƒm tra permission hiá»‡n táº¡i cá»§a file
chmod 777 filename	GÃ¡n quyá»n Ä‘áº§y Ä‘á»§ (Ä‘á»c, viáº¿t vÃ  thá»±c thi) cho má»i ngÆ°á»i
chmod -R 777 dirname	GÃ¡n quyá»n Ä‘áº§y Ä‘á»§ cho folder vÃ  táº¥t cáº£ cÃ¡c folder con
chmod -x filename	XÃ³a quyá»n thá»±c thi cá»§a báº¥t file nÃ o
chown username filename	Thay Ä‘á»•i quyá»n sá»Ÿ há»¯u cá»§a má»™t file
chown user:group filename	Thay Ä‘á»•i chá»§ sá»Ÿ há»¯u vÃ  quyá»n sá»Ÿ há»¯u nhÃ³m cá»§a file
chown -R user:group dirname	Thay Ä‘á»•i chá»§ sá»Ÿ há»¯u vÃ  quyá»n sá»Ÿ há»¯u nhÃ³m cá»§a folder vÃ  táº¥t cáº£ cÃ¡c folder con

**************************************************************************** CÃC Lá»†NH Vá»€ NETWORKING
Command	Description
ip a	Hiá»ƒn thá»‹ network interfaces vÃ  Ä‘á»‹a chá»‰ IP
ip addr show dev eth0	Hiá»ƒn thá»‹ Ä‘á»‹a chá»‰ eth0 vÃ  thÃ´ng tin chi tiáº¿t
ip addr add IP-Address dev eth1	ThÃªm Ä‘á»‹a chá»‰ IP táº¡m thá»i vÃ o interface eth1
ethtool eth0	Truy váº¥n hoáº·c kiá»ƒm soÃ¡t cÃ i Ä‘áº·t pháº§n cá»©ng vÃ  network driver
ping host	Gá»­i ICMP echo request tá»›i host
whois domain	Hiá»ƒn thá»‹ thÃ´ng tin whois cho domain
dig domain	Hiá»ƒn thá»‹ thÃ´ng tin DNS cho domain
dig -x IP_ADDRESS	Tra cá»©u ngÆ°á»£c IP_ADDRESS
host domain	Hiá»ƒn thá»‹ Ä‘á»‹a chá»‰ IP DNS cho domain
hostname -i	Hiá»ƒn thá»‹ Ä‘á»‹a chá»‰ máº¡ng cá»§a hostname.
hostname -I	Hiá»ƒn thá»‹ táº¥t cáº£ cÃ¡c Ä‘á»‹a chá»‰ IP cá»¥c bá»™ cá»§a mÃ¡y chá»§.
wget http://domain.com/file	Táº£i xuá»‘ng http://domain.com/file
netstat -nutlp	Hiá»ƒn thá»‹ cÃ¡c cá»•ng tcp vÃ  udp Ä‘ang nghe vÃ  cÃ¡c chÆ°Æ¡ng trÃ¬nh tÆ°Æ¡ng á»©ng

**************************************************************************** CÃC Lá»†NH Vá»€ ARCHIVES (TAR FILES)
Command	Description
tar -cvf filename.tar filename	NÃ©n file thÃ nh Tar
tar -xvf filename.tar	Giáº£i nÃ©n file Tar
tar -tvf filename.tar	Liá»‡t kÃª ná»™i dung cá»§a file Tar
tar -xvf filename.tar file1.txt	Gá»¡ bá» má»™t file duy nháº¥t khá»i file Tar
tar -rvf filename.tar file2.txt	ThÃªm file vÃ o Tar
zip filename.zip filename	NÃ©n má»™t file thÃ nh má»™t file zip
zip filename.zip file1.txt file2.txt file3.txt	NÃ©n nhiá»u file vÃ o má»™t zip
zip -u filename.zip file4.txt	ThÃªm file vÃ o zip
zip -d filename.zip file4.txt	XÃ³a file khá»i zip
unzip -l filename.zip	Hiá»ƒn thá»‹ ná»™i dung cá»§a file lÆ°u trá»¯ zip
unzip filename.zip	Giáº£i nÃ©n
unzip filename.zip -d /dirname	Giáº£i nÃ©n file vÃ o má»™t thÆ° má»¥c cá»¥ thá»ƒ

**************************************************************************** CÃC Lá»†NH Vá»€ INSTALLING PACKAGES
Command	Description
apt-get install packagename	CÃ i Ä‘áº·t gÃ³i trÃªn cÃ¡c báº£n phÃ¢n phá»‘i dá»±a trÃªn Debian
apt-get remove packagename	XÃ³a gÃ³i trÃªn cÃ¡c báº£n phÃ¢n phá»‘i dá»±a trÃªn Debian
dpkg -l | grep -i installed	Nháº­n danh sÃ¡ch táº¥t cáº£ cÃ¡c gÃ³i trÃªn báº£n phÃ¢n phá»‘i dá»±a trÃªn Debian
dpkg -i packagename.deb	CÃ i Ä‘áº·t gÃ³i .deb
apt-get update	Cáº­p nháº­t kho lÆ°u trá»¯ trÃªn cÃ¡c báº£n phÃ¢n phá»‘i dá»±a trÃªn Debian
apt-get upgrade packagename	NÃ¢ng cáº¥p má»™t gÃ³i cá»¥ thá»ƒ trÃªn cÃ¡c báº£n phÃ¢n phá»‘i dá»±a trÃªn Debian
apt-get autoremove	XÃ³a táº¥t cáº£ cÃ¡c gÃ³i khÃ´ng mong muá»‘n trÃªn cÃ¡c báº£n phÃ¢n phá»‘i dá»±a trÃªn Debian
yum install packagename	CÃ i Ä‘áº·t gÃ³i trÃªn cÃ¡c báº£n phÃ¢n phá»‘i dá»±a trÃªn RPM
yum remove packagename	XÃ³a gÃ³i trÃªn cÃ¡c báº£n phÃ¢n phá»‘i dá»±a trÃªn RPM
yum update	Cáº­p nháº­t táº¥t cáº£ cÃ¡c gÃ³i há»‡ thá»‘ng lÃªn phiÃªn báº£n má»›i nháº¥t trÃªn cÃ¡c báº£n phÃ¢n phá»‘i dá»±a trÃªn RPM
yum list --installed	Liá»‡t kÃª táº¥t cáº£ cÃ¡c gÃ³i Ä‘Ã£ cÃ i Ä‘áº·t trÃªn cÃ¡c báº£n phÃ¢n phá»‘i dá»±a trÃªn RPM
yum list --available	Liá»‡t kÃª táº¥t cáº£ cÃ¡c gÃ³i cÃ³ sáºµn trÃªn cÃ¡c báº£n phÃ¢n phá»‘i dá»±a trÃªn RPM

**************************************************************************** CÃC Lá»†NH Vá»€ SEARCH
Command	Description
grep pattern file	TÃ¬m kiáº¿m "pattern" trong file
grep -r pattern directory	TÃ¬m kiáº¿m Ä‘á»‡ quy "pattern" trong thÆ° má»¥c
locate name	TÃ¬m tá»‡p vÃ  thÆ° má»¥c theo tÃªn
find /home/john -name 'prefix*'	TÃ¬m tá»‡p trong /home/john báº¯t Ä‘áº§u báº±ng "prefix".
find /home -size +100M	TÃ¬m tá»‡p lá»›n hÆ¡n 100MB trong /home

**************************************************************************** CÃC Lá»†NH Vá»€ SSH LOGINS
Command	Description
ssh host	Káº¿t ná»‘i vá»›i mÃ¡y chá»§ dÆ°á»›i dáº¡ng tÃªn ngÆ°á»i dÃ¹ng cá»¥c bá»™ cá»§a báº¡n
ssh user@host	Káº¿t ná»‘i vá»›i mÃ¡y chá»§ vá»›i tÆ° cÃ¡ch ngÆ°á»i dÃ¹ng
ssh -p port user@host	Káº¿t ná»‘i vá»›i mÃ¡y chá»§ báº±ng cá»•ng

**************************************************************************** CÃC Lá»†NH Vá»€ FILE TRANSFERS
Command	Description
scp file.txt server:/tmp	Sao chÃ©p an toÃ n file.txt vÃ o thÆ° má»¥c /tmp trÃªn mÃ¡y chá»§
scp server:/var/www/*.html /tmp	Sao chÃ©p cÃ¡c tá»‡p *.html tá»« mÃ¡y chá»§ vÃ o thÆ° má»¥c /tmp cá»¥c bá»™.
scp -r server:/var/www /tmp	Sao chÃ©p Ä‘á»‡ quy táº¥t cáº£ cÃ¡c tá»‡p vÃ  thÆ° má»¥c tá»« mÃ¡y chá»§ vÃ o thÆ° má»¥c /tmp cá»§a há»‡ thá»‘ng hiá»‡n táº¡i.
rsync -a /home /backups/	Äá»“ng bá»™ hÃ³a /home vá»›i /backups/home
rsync -avz /home server:/backups/	Äá»“ng bá»™ hÃ³a cÃ¡c tá»‡p/thÆ° má»¥c giá»¯a há»‡ thá»‘ng cá»¥c bá»™ vÃ  tá»« xa vá»›i chá»©c nÄƒng nÃ©n

**************************************************************************** CÃC Lá»†NH Vá»€ DISK USAGE
Command	Description
df -h	Hiá»ƒn thá»‹ dung lÆ°á»£ng trá»‘ng vÃ  Ä‘Ã£ sá»­ dá»¥ng trÃªn mounted filesystems
df -i	Hiá»ƒn thá»‹ cÃ¡c inode trá»‘ng vÃ  Ä‘Ã£ sá»­ dá»¥ng trÃªn mounted filesystems
fdisk -l	Hiá»ƒn thá»‹ kÃ­ch thÆ°á»›c vÃ  loáº¡i phÃ¢n vÃ¹ng Ä‘Ä©a
du -ah	Hiá»ƒn thá»‹ má»©c sá»­ dá»¥ng Ä‘Ä©a cho táº¥t cáº£ cÃ¡c tá»‡p vÃ  thÆ° má»¥c á»Ÿ Ä‘á»‹nh dáº¡ng con ngÆ°á»i cÃ³ thá»ƒ Ä‘á»c Ä‘Æ°á»£c
du -sh	Hiá»ƒn thá»‹ tá»•ng má»©c sá»­ dá»¥ng Ä‘Ä©a ngoÃ i thÆ° má»¥c hiá»‡n táº¡i

**************************************************************************** CÃC Lá»†NH Vá»€ SECURITY
Command	Description
passwd	Thay Ä‘á»•i máº­t kháº©u cá»§a ngÆ°á»i dÃ¹ng hiá»‡n táº¡i.
sudo -i	Chuyá»ƒn sang tÃ i khoáº£n root vá»›i mÃ´i trÆ°á»ng cá»§a root.
sudo -s	Thá»±c thi shell hiá»‡n táº¡i cá»§a báº¡n vá»›i quyá»n root
sudo -l	Liá»‡t kÃª cÃ¡c Ä‘áº·c quyá»n sudo cho ngÆ°á»i dÃ¹ng hiá»‡n táº¡i.
visudo	Chá»‰nh sá»­a tá»‡p cáº¥u hÃ¬nh sudoers.
getenforce	Hiá»ƒn thá»‹ cháº¿ Ä‘á»™ SELinux hiá»‡n táº¡i.
sestatus	Hiá»ƒn thá»‹ chi tiáº¿t SELinux nhÆ° cháº¿ Ä‘á»™ SELinux hiá»‡n táº¡i, cháº¿ Ä‘á»™ Ä‘Æ°á»£c Ä‘á»‹nh cáº¥u hÃ¬nh vÃ  chÃ­nh sÃ¡ch Ä‘Ã£ táº£i.
setenforce 0	Thay Ä‘á»•i cháº¿ Ä‘á»™ SELinux hiá»‡n táº¡i thÃ nh Permissive. (KhÃ´ng tá»“n táº¡i khi khá»Ÿi Ä‘á»™ng láº¡i.)
setenforce 1	Thay Ä‘á»•i cháº¿ Ä‘á»™ SELinux hiá»‡n táº¡i thÃ nh Enforcing. (KhÃ´ng tá»“n táº¡i khi khá»Ÿi Ä‘á»™ng láº¡i.)
SELINUX=enforcing	Äáº·t cháº¿ Ä‘á»™ SELinux Ä‘á»ƒ thá»±c thi khi khá»Ÿi Ä‘á»™ng báº±ng cÃ¡ch sá»­ dá»¥ng cÃ i Ä‘áº·t nÃ y trong tá»‡p /etc/selinux/config.
SELINUX=permissive	Äáº·t cháº¿ Ä‘á»™ SELinux thÃ nh cho phÃ©p khi khá»Ÿi Ä‘á»™ng báº±ng cÃ¡ch sá»­ dá»¥ng cÃ i Ä‘áº·t nÃ y trong tá»‡p /etc/selinux/config.
SELINUX=disabled	Äáº·t cháº¿ Ä‘á»™ SELinux thÃ nh táº¯t khi khá»Ÿi Ä‘á»™ng báº±ng cÃ¡ch sá»­ dá»¥ng cÃ i Ä‘áº·t nÃ y trong tá»‡p /etc/selinux/config.

**************************************************************************** CÃC Lá»†NH Vá»€ LOGGING AND AUDITING
Command	Description
dmesg	Hiá»ƒn thá»‹ message trong kernel ring buffer
journalctl	Hiá»ƒn thá»‹ nháº­t kÃ½ Ä‘Æ°á»£c lÆ°u trá»¯ trong systemd journal.
journalctl -u servicename	Hiá»ƒn thá»‹ nháº­t kÃ½ cho má»™t Ä‘Æ¡n vá»‹ servicename cá»¥ thá»ƒ.

****************************************************************************
How to output lines 800-900 of a file with a unix command?
head -n 900 file.txt | tail -n 100